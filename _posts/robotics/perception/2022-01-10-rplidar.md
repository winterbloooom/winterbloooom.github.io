---
title:  "[LiDAR] RPLIDAR A3 ì‚¬ìš©ë²•"
excerpt: "RPLIDAR A3 ê¸°ê¸° íŠ¹ì§•, ì‘ë™ë²•, udev ì„¤ì •, Rviz ì¶• ì„¤ì •"

categories:
  - Robotics
  - Perception
tags:
  - Perception
  - LiDAR
  - ROS
last_modified_at: 2022-01-10
teaser: "https://user-images.githubusercontent.com/69252153/228567143-1d64209f-dfcc-4289-8de9-619b7dbb36cf.png"
---

<div id="def-box">
<div class="def-title">ì‚¬ìš© í™˜ê²½ ë° ì¥ë¹„</div>
<p>
Ubuntu 18.04 LTS / ROS Melodic / RPLIDAR A3
</p>
</div>

# ğŸ‘‹RPLIDAR ê¸°ê¸° íŠ¹ì§•

![](https://images.velog.io/images/717lumos/post/6772b8bc-a0c5-405c-911c-11393801800b/20220110_094632.jpg)

* <span style="color: green">**ë¼ì´ë‹¤ì˜ ìƒ˜í”Œ ë¹„ìœ¨(sample rate, ì´ˆë‹¹ ìƒ˜í”Œ ìˆ˜)**</span>ì€ ë¡œë´‡ì´ ì–¼ë§ˆë‚˜ ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ mapì„ ë§Œë“¤ ìˆ˜ ìˆëŠ”ê°€ ì´ë©°, RPLIDAR A3ëŠ” <span style="color: green">**16,000íšŒ(16K)**</span>ì˜ ê°’ì„ ê°–ëŠ”ë‹¤. ì´ì „ ëª¨ë¸ì¸ A1ì€ 2K/4K, A2ëŠ” 4K/8Kì´ë‹¤.
* <span style="color: green">**íƒì§€ ë²”ìœ„ëŠ” 25mê¹Œì§€ ì§€ì›í•˜ë©°, ì‹œê³„ë°©í–¥ìœ¼ë¡œ 360Â° ì „ë°©í–¥ íšŒì „**</span>í•˜ì—¬ ìŠ¤ìº”í•˜ì—¬ ë¬¼ì²´ì˜ ì™¸ê³½ì„ ì„ ìƒì„±í•œë‹¤.
* ë‘ ê°€ì§€ ëª¨ë“œê°€ ìˆì–´, <span style="color: green">**enhanced modeì™€ outdoor mode**</span>ê°€ ìˆë‹¤.
  * Enhanced mode: **ì‹¤ë‚´ í™˜ê²½**ì—ì„œì˜ ìµœì /ìµœëŒ€ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.
  * Outdoor mode: **ì‹¤ì™¸ í™˜ê²½**ì—ì„œ í–‡ë¹›ì˜ ê°„ì„­ì— ì˜í–¥ì„ ëœ ë°›ë„ë¡ í•œë‹¤. í°/ê²€ì€ ë¬¼ì²´ë¥¼ ì•ˆì •ì ìœ¼ë¡œ íƒì§€í•˜ê²Œ í•œë‹¤.
  
![](https://images.velog.io/images/717lumos/post/e74e384d-6956-4a6e-84e5-5e33310c125d/20220110_094716.jpg)
  
* ê´‘ì‚¼ê°ë²•(laser triangulation ranging principle)ì„ ì‚¬ìš©í•œë‹¤. ê´‘ì‚¼ê°ë²•ì— ëŒ€í•œ ì°¸ê³ ì‚¬í•­ì€ ì•„ë˜ ì°¸ê³  ìë£Œì— ë§í¬ë¥¼ ê±¸ì–´ë‘ì—ˆë‹¤.
* ìŠ¤ìºë‹ ëª¨í„°ì˜ ì†ë„ë¥¼ ì œì–´í•¨ìœ¼ë¡œì¨ ì‚¬ìš©ìì˜ í¸ì˜ì— ë”°ë¼ ìŠ¤ìº” ì£¼íŒŒìˆ˜ë¥¼ 2hzì—ì„œ 10hzê¹Œì§€ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.
* ë‹¤ë¥¸ ë¼ì´ë‹¤ê°€ ê·¸ëŸ¬í•˜ë“¯, <span style="color: green">**SLAMì— ìœ ìš©íˆ ì“°ì¼ ìˆ˜ ìˆë‹¤.**</span>

![](https://images.velog.io/images/717lumos/post/07a3cae2-85ea-40f9-a647-a27fdf346e96/%EA%B7%B8%EB%A6%BC1.png)

<div id="def-box">
<div class="def-title">SLAM(Simultaneous localization and mapping)</div>
<p markdown="1">
ìš©ì–´ë¥¼ ë²ˆì—­í•˜ìë©´ **ë™ì‹œì  ìœ„ì¹˜ì¶”ì • ë° ì§€ë„ì‘ì„±**ì´ë‹¤. SLAMì€ ìë™ì°¨, ë¡œë´‡ ë“±ì´ ë¯¸ì§€ì˜ í™˜ê²½(ê³µê°„)ì—ì„œ ì´ë™í•¨ê³¼ ë™ì‹œì— ì£¼ë³€ì„ íƒìƒ‰í•˜ë©°, ê·¸ ê³µê°„ì˜ ì§€ë„ë¥¼ ê·¸ë¦¬ê³  í˜„ ìœ„ì¹˜ë¥¼ ì¶”ì •í•˜ëŠ” ê°œë…ì´ë‹¤.
</p>
</div>

- - -

# ğŸ“—rplidar ROS package
## ê°œìš”
<span style="background-color: #12B886; color: white">**rplidar**</span>ëŠ” RPLIDARì˜ ì œì¡°ì‚¬ì¸ Slamtecì—ì„œ ê´€ë¦¬í•˜ëŠ” **ROS íŒ¨í‚¤ì§€**ë¡œ, 2D ë ˆì´ì € ìŠ¤ìºë„ˆ RPLIDAR A1, A3, A3 ëª¨ë¸ì˜ ê¸°ë³¸ì  ë””ë°”ì´ìŠ¤ í•¸ë“¤ë§ì„ ì§€ì›í•œë‹¤. [GitHubì—ì„œ ì†ŒìŠ¤ë¥¼ ë‹¤ìš´](https://github.com/Slamtec/rplidar_ros.git)ë°›ì„ ìˆ˜ ìˆë‹¤. ë³¸ì¸ ROSì˜ ë²„ì „ì„ ì˜ ì‚´í´ì„œ ë‹¤ìš´ë°›ì.

![](https://images.velog.io/images/717lumos/post/92f8dc4f-93cc-4cde-aec7-8e9b398109d8/20220110_091734.jpg)

ë“œë¼ì´ë²„ëŠ” <span style="color:green">**senser_msgs/LaserScan ë°ì´í„°ë¥¼ í¼ë¸”ë¦¬ì‹œ**</span>í•œë‹¤. í•´ë‹¹ ë‚´ìš©ì€ ì•„ë˜ì„œ ìì„¸íˆ ë‹¤ë£¬ë‹¤.


## ROS Node
rplidarNodeëŠ” RPLIDARì˜ ë“œë¼ì´ë²„ë¡œ, <span style="color:green">**RPLIDARì˜ SDKì—ì„œ raw scan ê²°ê³¼ë¥¼ ì½ì–´ ROS LaserScan ë©”ì‹œì§€ë¡œ ë°”ê¾¸ì–´ì¤€ë‹¤.**</span>

<div id="def-box">
<div class="def-title">SDK(Software Development Kit)</div>
<p markdown="1">
**SDK(Software Development Kit)**ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í‚¤íŠ¸ë¡œ, **í•˜ë“œì›¨ì–´ í”Œë«í¼ì´ë‚˜ ìš´ì˜ì²´ì œ(Operating System, OS), í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ì œì‘ì‚¬ê°€ ì œê³µí•˜ëŠ” ë„êµ¬**ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì»´íŒŒì¼ëŸ¬, ë””ë²„ê±°, API(Application Programming Interface) ë“±ì´ í¬í•¨ëœë‹¤.

ê°œë°œìëŠ” SDKë¥¼ ì´ìš©í•˜ì—¬ íŠ¹ì • í”Œë«í¼ì´ë‚˜, ì‹œìŠ¤í…œ, í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ë”°ë¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆë‹¤.
</p>
</div>


### í¼ë¸”ë¦¬ì‹œ í† í”½
ë…¸ë“œëŠ” ë ˆì´ì €ë¡œë¶€í„° <span style="color: green">**í† í”½ `/scan`ì„ í¼ë¸”ë¦¬ì‹œí•˜ë©°, ë©”ì‹œì§€ í˜•íƒœëŠ” [sensor_msgs/LaserScan](http://docs.ros.org/en/api/sensor_msgs/html/msg/LaserScan.html)ì´ë‹¤.**</span> í•˜ì´í¼ë§í¬ë¥¼ ë”°ë¼ê°€ ì§ì ‘ ì‚´í´ë³´ì•„ë„ ì¢‹ë‹¤.

![](https://images.velog.io/images/717lumos/post/dd413479-daf7-4945-989b-ea69cb4de40c/20220110_104049.jpg)

í•´ë‹¹ ë©”ì‹œì§€ íŒŒì¼ì„ ìì„¸íˆ ì‚´í´ë³´ì. ì•„ë˜ ë‚´ìš©ì€ `sensor_msgs/LaserScan.msgì˜ Raw Message Definition`ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¨ ê²ƒì´ë‹¤.
```bash
# Single scan from a planar laser range-finder
#
# If you have another ranging device with different behavior (e.g. a sonar
# array), please find or create a different message, since applications
# will make fairly laser-specific assumptions about this data

Header header            # timestamp in the header is the acquisition time of 
                         # the first ray in the scan.
                         #
                         # in frame frame_id, angles are measured around 
                         # the positive Z axis (counterclockwise, if Z is up)
                         # with zero angle being forward along the x axis
                         
float32 angle_min        # start angle of the scan [rad]
float32 angle_max        # end angle of the scan [rad]
float32 angle_increment  # angular distance between measurements [rad]

float32 time_increment   # time between measurements [seconds] - if your scanner
                         # is moving, this will be used in interpolating position
                         # of 3d points
float32 scan_time        # time between scans [seconds]

float32 range_min        # minimum range value [m]
float32 range_max        # maximum range value [m]

float32[] ranges         # range data [m] (Note: values < range_min or > range_max should be discarded)
float32[] intensities    # intensity data [device-specific units].  If your
                         # device does not provide intensities, please leave
                         # the array empty.
```

* Header `header`
  * **ìë£Œí˜• Header**ì€ [std_msgs/Header.msg](http://docs.ros.org/en/noetic/api/std_msgs/html/msg/Header.html)ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, unint32 `seq`, time `stamp`, string `frame_id`ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.
  * `time`: ìŠ¤ìº”í•˜ì—¬ ë°ì´í„°ë¥¼ íšë“í•œ ì‹œê°„
* float32 `angle_min` [rad] : ìŠ¤ìº”ì˜ ì‹œì‘ ê°ë„
* float32 `angle_max` [rad] : ìŠ¤ìº”ì˜ ë ê°ë„
* float32 `angle_increment` [rad] : ì¸¡ì •ë˜ëŠ” ê°ì˜ ë‹¨ìœ„ì´ë‹¤. 0.01ì´ë¼ë©´ 0.01ë¼ë””ì•ˆ ë§ˆë‹¤ ì¸¡ì •ì´ ì´ë£¨ì–´ì§€ëŠ” ê²ƒì´ë‹¤.
* float32 `scan_time` [sec] : ì¸¡ì •ë˜ëŠ” ì‹œê°„ ê°„ê²©
* float32 `range_min` [m] : ìµœì†Œ range(ê±°ë¦¬) ê°’
* float32 `range_max` [m] : ìµœëŒ€ ê±°ë¦¬ ê°’
* float32[] `ranges` [m]
  * ìµœì†Œ ê±°ë¦¬(`range_min`) ì´ìƒ, ìµœëŒ€ ê±°ë¦¬(`range_max`) ì´í•˜ì˜ ê±°ë¦¬ ê°’ë“¤ì„ ë§í•œë‹¤.
  * ìµœì†Œ ê°ë„(`angle_min`)ë¶€í„° ìµœëŒ€ ê°ë„(`angle_max`)ê¹Œì§€ ë‹¨ìœ„ ê°ë„(`angle_increment`)ì”© ë¶„í• í•œ í•˜ë‚˜í•˜ë‚˜ë¥¼ ìš”ì†Œë¡œ í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ì´ë‹¤.
  * ê° ìš”ì†Œì—ëŠ” í•´ë‹¹ ê°ë„ì—ì„œ ì¸¡ì •í•œ ê±°ë¦¬ê°€ ë‹´ê²¨ ìˆë‹¤. ì¥ì• ë¬¼ê³¼ ë¶€ë”ªíˆì§€ ì•Šì•˜ë‹¤ë©´ `inf`ë¡œ í‘œì‹œëœë‹¤.
  * [inf, inf, ..., 1.3, 1.4, 1.3, ..., inf, inf] ì²˜ëŸ¼ í‘œì‹œë  ê²ƒì´ë‹¤.
  * 0.1Â°ì”© ì¸¡ì •í•˜ê³  ìµœì†Œ ê°ë„ê°€ -180Â°ë¼ë©´, 457ë²ˆì§¸ ìš”ì†ŒëŠ” -180 + 0.1 * 457 = -134.3Â°ë„ì´ë©°, í•´ë‹¹ ê°ë„ì—ì„œ ranges[457]ì˜ ê°’ì€ -134.3Â°ë„ì—ì„œ ì¸¡ì •ëœ ë¬¼ì²´ê¹Œì§€ ê±°ë¦¬ ê°’ì´ë‹¤.
* float32[] `intensities` : ë ˆì´ì €ê°€ ë¶€ë”ªí˜€ ëŒì•„ì˜¤ëŠ” ê°•ë„ë¥¼ ë‹´ê³  ìˆë‹¤. ì§€ì›í•˜ëŠ” ê¸°ê¸°ì—ì„œë§Œ í‘œì‹œë˜ê³ , ê·¸ ì™¸ì—ì„œëŠ” ë¹ˆ ë°°ì—´ì´ë‹¤.

![](https://images.velog.io/images/717lumos/post/0ffaf73c-77d4-4f37-9611-9ae6d58a7c28/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2020-03-33.png)

ìœ„ ì‚¬ì§„ì€ RPLIDAR A3ë¥¼ ì—°ê²°í•´ `/scan` ë°ì´í„°ë¥¼ `rostopic echo` ëª…ë ¹ì„ í†µí•´ ì¶œë ¥í•œ ê²°ê³¼ì´ë‹¤. ì£¼ìš” ê°’ì˜ ì˜ˆëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

| data | value |
|:---:|---:|
| angle_min | -3.14159274101 |
| angle_max | 3.14159274101 |
| angle_increment | 0.00322876940481 |
| range_min | 0.15000000596 |
| range_max | 25.0 |

### ê°ë„ ë° ê±°ë¦¬ì˜ í‘œê¸°
* Zì¶• ì–‘ì˜ ë°©í–¥ìœ¼ë¡œ(ë°˜ì‹œê³„ë°©í–¥, ì˜¤ë¥¸ì† ì—„ì§€ë¥¼ ìœ„ë¡œ í–ˆì„ ë•Œ ì†ê°€ë½ì´ ê°ì•„ì§€ëŠ” ë°©í–¥) ê°ë„ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.
* 0Â°ëŠ” xì¶•ì„ ë”°ë¼ ë»—ì–´ì§„ë‹¤.

![](https://images.velog.io/images/717lumos/post/57c74f8d-75da-4a68-be45-489086e75424/rplidar_A2.png)

### íŒŒë¼ë¯¸í„°
ë¼ì´ë‹¤ ì‘ë™ì— í•„ìš”í•œ íŒŒë¼ë¯¸í„°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. í•´ë‹¹ íŒŒë¼ë¯¸í„°ë“¤ì€ `rplidar.launch` íŒŒì¼ì— `<param>` íƒœê·¸ë¡œ ë‚˜íƒ€ë‚˜ ìˆë‹¤.

![](https://images.velog.io/images/717lumos/post/e168b29e-f71b-42f7-b4d2-a7f3e27e9449/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-43-02.png)

| íŒŒë¼ë¯¸í„° | ìë£Œí˜• | default ê°’ | ì„¤ëª… |
|:---:|:---:|:---:|:---|
| serial_port | string | /dev/ttyUSB0 | ë¼ì´ë‹¤ê°€ ì—°ê²°ëœ ì‹œë¦¬ì–¼ í¬íŠ¸ |
| serial_baudrate | int | 115200 | ì‹œë¦¬ì–¼ í¬íŠ¸ì˜ ë³´ ë ˆì´íŠ¸. í†µì‹  ì†ë„ |
| frame_id | string | laser_frame | ê¸°ê¸°ì˜ í”„ë ˆì„ ID | 
| inverted | bool | false | ë¼ì´ë‹¤ê°€ invertedë˜ì–´ ë§ˆìš´ë“œ ë˜ì—ˆëŠ”ê°€ (ë’¤ì§‘ì–´ì¡ŒëŠ”ê°€) |
| angle_compensate | bool | false | ê¸°ê¸°ê°€ ì‹œì•¼ê° ë³´ìƒ(angle compensation)ì´ í•„ìš”í•œê°€ |
| scan_mode | string | std::string() | ìŠ¤ìº” ëª¨ë“œ |

<div id="def-box">
<div class="def-title">Baud Rate</div>
<p markdown="1">
**ë³´ ë ˆì´íŠ¸(Baud Rate)ëŠ” ì´ˆë‹¹ ì „ì†¡ ì‹ í˜¸ ìš”ì†Œ ê°œìˆ˜ë¡œ, ì‹¬ë³¼(Symbol, ì˜ë¯¸ ìˆëŠ” ë°ì´í„° ë¬¶ìŒ)ì„ ì–¼ë§ˆë‚˜ ì „ì†¡í•  ìˆ˜ ìˆëŠ”ê°€**ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. 

í•˜ë‚˜ì˜ ì‹¬ë³¼ì„ ì‰½ê²Œ í•˜ë‚˜ì˜ â€˜ë°ì´í„° ë¬¶ìŒâ€™ì´ë¼ê³  í‘œí˜„í•˜ì. ì‹œë¦¬ì–¼ í†µì‹ ì—ì„œëŠ” 8bitë¥¼ ë°ì´í„° ë¬¶ìŒì´ë¼ í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ 100 baud rateë¼ë©´ 1ì´ˆì— 100ê°œì˜ ë°ì´í„° ë¬¶ìŒ, ì¦‰ 8*100=800bitë¥¼ ì „ì†¡í•œë‹¤ëŠ” ì´ì•¼ê¸°ì´ë‹¤.
</p>
</div>

- - -

# ğŸ˜ ì‘ë™

**[1]** GitHubì—ì„œ íŒ¨í‚¤ì§€ë¥¼ `/catkin_ws/src`ì— ë‚´ë ¤ë°›ê³  ë¹Œë“œë¥¼ í•´ì¤€ë‹¤.

```bash
$ git clone https://github.com/Slamtec/rplidar_ros
$ catkin_make ë˜ëŠ” cm
```

**[2]** USB í¬íŠ¸ì— ë¼ì´ë‹¤ë¥¼ ì—°ê²°í•œë‹¤.
**[3]** í„°ë¯¸ë„ì—ì„œ USB í¬íŠ¸ë¥¼ í™•ì¸í•˜ê³ , ê¶Œí•œì„ í—ˆìš©í•œë‹¤.

```bash
$ ls -l /dev | grep ttyUSB
$ sudo chmod 666 /dev/ttyUSB0
```

![](https://images.velog.io/images/717lumos/post/36e3e136-b96f-4323-b460-9107c5ffaabb/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-16-122.png)

**[4]** `.launch` íŒŒì¼ì„ ì‹¤í–‰ì‹œì¼œ ë¼ì´ë‹¤ë¥¼ ì‘ë™ì‹œí‚¨ë‹¤. 
ì‹¤í–‰ ì „, ì‹¤í–‰í•  íŒŒì¼ì— ê¸°ê¸° ëª¨ë¸ì— ë”°ë¼ íŒŒë¼ë¯¸í„° `baudrate`ë¥¼ ìˆ˜ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. A1, A2 ëª¨ë¸ì€ ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ì–´ ìˆëŠ” `115200`ë¥¼, A3ëŠ” `256000`ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤.
ëª¨ë“  `.launch` íŒŒì¼ì€ `/rplidar_ros/launch`ì— ìˆë‹¤. ~~ëª¨ë¸ì— ë”°ë¼ ë‚˜ë‰˜ì–´ íŒŒì¼ ì—„ì²­ ë§ë‹¤.~~

**[4-1]** **Rvizê°€ í•¨ê»˜ ì‹¤í–‰ë˜ëŠ” ë²„ì „**: launch íŒŒì¼ì„ ì‹¤í–‰í•¨ê³¼ ë™ì‹œì— Rviz ì°½ì´ ìë™ìœ¼ë¡œ ì¼œì§„ë‹¤. í•„ìê°€ ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ì€ A3ì´ë¯€ë¡œ `view_rplidar_a3.launch` íŒŒì¼ì„ ì‹¤í–‰ì‹œì¼°ë‹¤.
```bash
$ roslaunch rplidar_ros view_rplidar_a3.launch
```

![](https://images.velog.io/images/717lumos/post/36f21908-f42e-47a3-904b-042dd1701c57/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-21-11.png)

**[4-2]** **ë¼ì´ë‹¤ ì‘ë™ë§Œ í•˜ëŠ” ë²„ì „**: ê°€ì¥ ê¸°ë³¸ì  launch íŒŒì¼ì´ë‹¤.
```bash
$ roslaunch rplidar_ros rplidar.launch
```
**[5]** ì¶”ê°€ì ìœ¼ë¡œ ë¼ì´ë‹¤ê°€ ì„¼ì‹±í•œ ê°’ì„ í„°ë¯¸ë„ì—ì„œ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ë¥¸ í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ì.

```bash
# (1) íŒ¨í‚¤ì§€ì— í¬í•¨ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•¨. ë¼ì´ë‹¤ê°€ ë°›ëŠ” ranges[] ë°ì´í„°ë¥¼ ë‚˜íƒ€ëƒ„
$ rosrun rplidar_ros rplidarNodeClient

# (2) rostopic echoë¡œ /scan ë©”ì‹œì§€ë¥¼ ì§ì ‘ ì¶œë ¥í•¨. rostopic listë¡œ í† í”½ ëª©ë¡ í™•ì¸ í›„ ì‹¤í–‰í•´ë³´ì.
$ rostopic echo /scan
```

![](https://images.velog.io/images/717lumos/post/80c4d605-6f6a-4a60-83b5-4c4bfb1ce6a5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-30-58.png)

ìœ„ ìš°ì¸¡ ì‚¬ì§„ì€ `rplidarNodeClient`ë¥¼ ì‘ë™ì‹œì¼°ì„ ë•Œì˜ í„°ë¯¸ë„ ì¶œë ¥ì´ë‹¤. -180Â°(-3.14rad)ë¶€í„° 180Â°(3.14rad)ê¹Œì§€ì—ì„œì˜ ì¸ë±ìŠ¤ ê°’ê³¼ ê±°ë¦¬ê°’ì„ ë‹´ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.

# ğŸ˜› USB í¬íŠ¸ ì´ë¦„ remap
USB í—ˆë¸Œë¥¼ ì´ìš©í•˜ëŠ” ë“± ë³µìˆ˜ ê°œì˜ ì„¼ì„œë¥¼ ì—°ê²°í•  ê²½ìš° **ë§¤ë²ˆ ttyUSB*ì˜ ë²ˆí˜¸ê°€ ë°”ë€ë‹¤.** ë§¤ë²ˆ ì´ ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ê³  lauch íŒŒì¼ì—ì„œ ë°”ê¿”ì£¼ê¸°ì—ëŠ” ë§¤ìš° ë²ˆê±°ë¡­ë‹¤. ë•Œë¬¸ì— ì´ë¥¼ <span style="color: green">**ì´ë¦„ìœ¼ë¡œ ê³ ì •í•˜ë©´ ë§¤ìš° í¸ë¦¬í•˜ë‹¤.**</span>

ìì„¸í•œ ì´ë¡ ì  ë‚´ìš©ì€ [[Linux] USB ì¥ì¹˜ ì´ë¦„ ê³ ì •í•˜ê¸°: udev ì„¤ì •, Symbolic Link(ì‹¬ë³¼ë¦­ ë§í¬) ë§Œë“¤ê¸°](https://velog.io/@717lumos/Linux-USB-%EC%9E%A5%EC%B9%98-%EC%9D%B4%EB%A6%84-%EA%B3%A0%EC%A0%95%ED%95%98%EA%B8%B0-udev-%EC%84%A4%EC%A0%95-Symbolic-Link%EC%8B%AC%EB%B3%BC%EB%A6%AD-%EB%A7%81%ED%81%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0)ì— ì„¤ëª…í•´ë‘ì—ˆë‹¤.

ê°„ë‹¨íˆ í•˜ìë©´, `/rplidar_ros/script`ì— ìˆëŠ” `rplidar.rules` íŒŒì¼ì„ `/etc/udev/rules.d`ë¡œ ë³µì‚¬í•˜ì—¬, <span style="color: green">**`ttyUSB*`ë¡œ í‘œì‹œë˜ë˜ ë¼ì´ë‹¤ì˜ ì´ë¦„ì„ `rplidar`ë¡œ ë³€ê²½í•˜ë©° ê¶Œí•œì„ `777`ìœ¼ë¡œ í•œë‹¤**</span>ëŠ” ëœ»ì´ë‹¤.

```bash
$ cd /catkin_ws/src/rplidar_ros
$ ./scripts/create_udev_rules.sh
```

![](https://images.velog.io/images/717lumos/post/51be7616-0c93-408d-b5ed-9bbbf33074ce/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-41-17.png)

ê²°ê³¼ì ìœ¼ë¡œ ì´ë¦„ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸í•˜ì.

```bash
$ ls -l /dev | grep rplidar
```

![](https://images.velog.io/images/717lumos/post/c43eed3a-f742-4f39-9e7d-6de049f9adc0/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-51-40.png)

ê²°ê³¼ë¥¼ í™•ì¸í•˜ë©´ `rplidar`ë¼ëŠ” ì´ë¦„ì´ ìƒì„±ë˜ì—ˆê³ , `ttyUSB0`ë¡œ ì—°ê²°ì´ ë˜ì–´ ìˆë‹¤ê³  í•œë‹¤. ë§Œì•½ ì—°ê²° í¬íŠ¸ê°€ ë°”ë€Œì–´ `ttyUSB1`ë¡œ ë³€ê²½ë˜ì—ˆëŒ€ë„ ë¼ì´ë‹¤ëŠ” ì—¬ì „íˆ `rplidar`ë¡œ ëœ° ê²ƒì´ë‹¤. 
ë§Œì•½ `rplidar`ë¼ê³  ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤ë©´ ì»´í“¨í„°ë¥¼ ì¬ë¶€íŒ…í•´ë³´ì.

ë¼ì´ë‹¤ì˜ ì´ë¦„ì´ ë°”ë€Œì—ˆìœ¼ë‹ˆ `rplidar.launch`ì—ì„œ íŒŒë¼ë¯¸í„°ì˜ ê°’ì„ `/dev/ttyUSB0`ì—ì„œ `/dev/rplidar`ë¡œ ë°”ê¾¸ì–´ì£¼ì–´ì•¼ í•œë‹¤.
```html
<param name="serial_port" type="string" value="/dev/rplidar"/>
```

ì´ë¦„ì„ ë°”ê¾¸ì–´ì£¼ì—ˆìœ¼ë‹ˆ launchíŒŒì¼ì„ ë‹¤ì‹œ ì‹¤í–‰í•´ë„ ë¬¸ì œê°€ ì—†ì„ ê²ƒì´ë‹¤.

- - -

# ğŸ§ Rviz ì‹œê°í™”
ìœ„ì—ì„œ `view_rplidar_a3.launch`ë¥¼ ì‹¤í–‰ì‹œì¼°ì„ ë•Œ rvizê°€ ë™ì‹œì— ì‹¤í–‰ë˜ì—ˆì—ˆë‹¤. ìŠ¤ìº” ê²°ê³¼ê°€ ì ìœ¼ë¡œ í‘œì‹œë˜ë¯€ë¡œ ì–´ë””ê°€ ì–´ë””ì¸ì§€ íŒë³„í•˜ê¸° í˜ë“¤ ë•Œê°€ ìˆìœ¼ë‹ˆ, <span style="color: green">**ì¶•ì„ í‘œì‹œí•´ë³´ì.**</span>

ì¢Œì¸¡ í•˜ë‹¨ì˜ `Add` ë²„íŠ¼ì„ í´ë¦­í•œ ë’¤, ë‚˜íƒ€ë‚˜ëŠ” ì°½ì—ì„œ `Axis`ë¥¼ ì„ íƒí•˜ê³  `OK`ë¥¼ í´ë¦­í•´ ì¶”ê°€í•œë‹¤.

![](https://images.velog.io/images/717lumos/post/80959622-8f50-4a94-a4c6-2155837146e3/%EA%B7%B8%EB%A6%BC2.png)

í™”ë©´ ìƒì— ì¶•ì´ ë³´ì´ê³ , ë§ˆìš°ìŠ¤ë¥¼ ì´ìš©í•´ ë·°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.

![](https://images.velog.io/images/717lumos/post/6465aa70-8237-4e18-9bf4-79bbf268b46b/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7,%202022-01-09%2019-56-45.png)

<div id="inserted-box">
    <div class="notice-text"><p markdown="1">Xì¶•ì€ <span style="color: red">**ë¹¨ê°•**</span>, Yì¶•ì€ <span style="color: green">**ì´ˆë¡**</span>, Zì¶•ì€ <span style="color: blue">**íŒŒë‘ìƒ‰**</span>ì´ë‹¤.</p></div>
</div>

- - -

# ì°¸ê³ ë¬¸í—Œ
* [SLAMTEC RPLIDAR A3 Overview](https://www.slamtec.com/en/Lidar/A3)
* [LuckyGg, "[3D] ê´‘ ì‚¼ê°ë²• êµ¬ì„±ê³¼ 3D ë°ì´í„°," tistory](https://luckygg.tistory.com/120)
* ["SLAM," Wikipedia](https://en.wikipedia.org/wiki/Simultaneous_localization_and_mapping)
* ["SLAM (ë™ì‹œì  ìœ„ì¹˜ì¶”ì • ë° ì§€ë„ì‘ì„±)," MathWorks](https://kr.mathworks.com/discovery/slam.html)
* ["rplidar," ROS Wiki](http://wiki.ros.org/rplidar)
* ["SDKë€?," Red Hat](https://www.redhat.com/ko/topics/cloud-native-apps/what-is-SDK)
* [gmqgufrm, "Bit Rateì™€ Baud Rateì˜ ì •ì˜," NAVER blog](https://m.blog.naver.com/gmqgufrn/220862079486)